!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1)},function(e,t,r){"use strict";var n=r(2),i=r(3),a=wp.i18n.__,s=wp.blocks.registerBlockType,l=a("Insert a GIF from Giphy");s("giphenberg/block-giphenberg",{title:a("Giphenberg Giphy Search"),icon:n.a,category:"common",keywords:[a("gif"),a("giphy"),a("giphenberg")],attributes:{savedGifURL:{type:"string"},savedGifID:{type:"string"},savedGifAlt:{type:"string"}},edit:function(e){return[!!e.isSelected&&wp.element.createElement("div",{key:"giphenberg-gif-search",className:e.className},wp.element.createElement("h2",{className:"giphenberg-header"},l),wp.element.createElement(i.a,e)),!e.isSelected&&wp.element.createElement("div",{className:"giphenberg-display"},e.attributes.savedGifID?wp.element.createElement("img",{className:"giphenberg-saved-image",src:e.attributes.savedGifURL,alt:e.attributes.savedGifAlt}):wp.element.createElement("div",null,wp.element.createElement("h2",{className:"giphenberg-header"},l),wp.element.createElement("p",null,wp.element.createElement("em",null,a("Click to search for a GIF")))))]},save:function(e){return wp.element.createElement("img",{src:e.attributes.savedGifURL,alt:e.attributes.savedGifAlt})}})},function(e,t,r){"use strict";var n=wp.element.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70 81","enable-background":"new 0 0 70 81"},"  ",wp.element.createElement("image",{id:"image0",width:"70",height:"81",x:"0",y:"0",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABRCAMAAABYIyCVAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\nAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeFBMVEUAAAD//5n/347f/5nd/5nq/5n//5n/3Y7/Zmb/ZmYA/5kA/5n/Zmb/Zmb/Zmb/Zmb/Zmb/Zmb/ZmamPpS8SI9vJLp5KMqZM/8Az/kAzP4AzP8AzP8By/8Suv8AzP8AzP///5n/ZmYA/5lLF35oIa6ZM/8AzP////9LuHIeAAAAIHRSTlMAgOaA8vHw2iACgKAwEExACCTA4So8MSCA8vHw8iKAIJL3zZcAAAABYktHRCctD6gjAAAAB3RJTUUH4gsLASAwhRbYAAAAAIhJREFUWMPt0kkWgjAQRdFCsEOxQ0AFxdjtf4lwThUMwiBomGD+W8AdPfLu/ZsoiTqBGQvjB9x0Zm7eMAtp2TLhg1uRubXSisC4xWy23M6OaXcE85fM/qAVS8evmE5PKQHjBvOSUjvmLWVgwIABAwYMGDBgwICpmdOZu+Q/VEhXun0GqAQzFqYCqWgnFgBWKCEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMTFUMDg6MzI6NDgtMDc6MDBjTmZrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTExVDA4OjMyOjQ4LTA3OjAwEhPe1wAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="}));t.a=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(4),l=r.n(s),o=r(5),u=r(7),c=(r.n(u),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),m=wp.i18n.__,p=wp.element.Component,f=wp.editor.PlainText,A=function(e){function t(){var e,r,a,s;n(this,t);for(var l=arguments.length,o=Array(l),u=0;u<l;u++)o[u]=arguments[u];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onChangeSearchTerm=function(e){(0,a.props.setAttributes)({searchTerm:e}),a.getResults(e)},a.getResults=function(e){var t=a.props.setAttributes,r="https://api.giphy.com/v1/gifs/search?q="+e+"&api_key=1N6XcKo15sM2n4EwksQmwG7vdPj3i2I0&limit=15";return fetch(r).then(function(e){return e.json()}).then(function(e){t({searchResults:e})})},a.gifMouseEnter=function(e){var t=e.result.id,r="image-"+e.result.id,n=document.getElementById(t).dataset.gifFull,i=document.getElementById(r);i.classList.add("animated"),i.setAttribute("src",n)},a.gifMouseLeave=function(e){var t=e.result.id,r="image-"+e.result.id,n=document.getElementById(t).dataset.gifStatic,i=document.getElementById(r);i.classList.remove("animated"),i.setAttribute("src",n)},a.gifOnClick=function(e){var t=a.props.setAttributes,r=e.result.id;t({savedGifURL:document.getElementById(r).dataset.gifFull,savedGifID:r,savedGifAlt:e.result.title}),document.getElementById(r).classList.contains("selected")&&t({savedGifURL:"",savedGifID:"",savedGifAlt:""}),document.getElementById(r).classList.toggle("selected")},s=r,i(a,s)}return a(t,e),c(t,[{key:"render",value:function(){return wp.element.createElement("div",{className:"giphenberg-search-container"},wp.element.createElement("form",{className:"giphenberg-search-form",key:"giphenberg-form",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(f,{className:l()("giphenberg-search"),value:this.props.attributes.searchTerm?this.props.attributes.searchTerm:"",onChange:this.onChangeSearchTerm,placeholder:this.props.placeholder?this.props.placeholder:m('Enter a search term, like "pizza" or "bart" or "pizza bart"')}),wp.element.createElement(o.a,{results:this.props.attributes.searchResults?this.props.attributes.searchResults:"",gifMouseEnter:this.gifMouseEnter,gifMouseLeave:this.gifMouseLeave,gifOnClick:this.gifOnClick,savedGifID:this.props.attributes.savedGifID,savedGifAlt:this.props.attributes.savedGifAlt})))}}]),t}(p);t.a=A},function(e,t,r){var n,i;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var s=r.apply(null,n);s&&e.push(s)}else if("object"===i)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(r.default=r,e.exports=r):(n=[],void 0!==(i=function(){return r}.apply(t,n))&&(e.exports=i))}()},function(e,t,r){"use strict";var n=r(6),i=function(e){var t=e.gifMouseEnter,r=e.gifMouseLeave,i=e.gifOnClick,a=e.results,s=e.savedGifID,l=e.savedGifAlt,o=[];a&&(o=Array.from(a.data));var u=o.map(function(e){return wp.element.createElement(n.a,{key:e.id,result:e,handleMouseEnter:t,handleMouseLeave:r,handleOnClick:i,savedGifID:s,savedGifAlt:l})});return wp.element.createElement("ul",{className:"giphenberg-results-list"},u)};t.a=i},function(e,t,r){"use strict";var n=function(e){var t=e.handleMouseEnter,r=e.handleMouseLeave,n=e.handleOnClick,i=e.result,a=e.savedGifID;return wp.element.createElement("li",{className:i.id===a?"giphenberg-search-result selected":"giphenberg-search-result",id:i.id,"data-gif-preview":i.images.downsized_medium.url,"data-gif-full":i.images.downsized_medium.url,"data-gif-static":i.images.original_still.url},wp.element.createElement("a",{className:"anchor-giphenberg-select",href:"#",onMouseEnter:function(e){return t({e:e,result:i})},onFocus:function(e){return t({e:e,result:i})},onMouseLeave:function(e){return r({e:e,result:i})},onBlur:function(e){return r({e:e,result:i})},onClick:function(e){return n({e:e,result:i})}},wp.element.createElement("img",{id:"image-"+i.id,className:"giphenberg-result-gif",src:i.images.original_still.url,alt:i.title})))};t.a=n},function(e,t){}]);